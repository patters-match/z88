<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.6 [en] (Win98; I) [Netscape]">
   <title>System Calls Reference</title>
</head>
<body>
<table BORDER=0 CELLSPACING=0 CELLPADDING=0 WIDTH="100%" >
<tr>
<th ALIGN=CENTER COLSPAN="3">Z88 Developers' Notes</th>
</tr>
<tr>
<td ALIGN=LEFT VALIGN=BOTTOM WIDTH="10%"><a href="index.htm">Contents</a></td>
<td ALIGN=CENTER VALIGN=BOTTOM WIDTH="80%">&nbsp;</td>
<td ALIGN=RIGHT VALIGN=BOTTOM WIDTH="10%"><a href="sysref.htm">Contents&nbsp;of&nbsp;System&nbsp;Calls</a></td>
</tr>
</table>

<hr WIDTH="100%">
<p>

<b><font size=+1>OS_Fep, Flash Card Interface</font></b>
<p><tt>RST 20H, DEFW $C806</tt>
<pre>IN:</pre>

<pre>&nbsp;&nbsp;&nbsp;&nbsp; A = reason code:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FEP_CDID = $00 - Identify Flash Memory Chip in slot
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FEP_CDDT = $03 - Get Flash Card Data
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FEP_SCER = $06 - Erase sector in Flash Memory
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FEP_CDER = $09 - Erase entire Flash Memory
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FEP_FFMT = $0C - Flash Memory File Area Formatting
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FEP_WRBT = $0F - Write byte to the Flash Memory
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FEP_WRBL = $12 - Write a block of bytes to Flash Memory
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FEP_CPFL = $15 - Copy file entry between two File Areas

&nbsp;&nbsp;&nbsp;&nbsp; BC, DE, HL, IX arguments.</pre>

<pre>
OUT:
&nbsp;&nbsp;&nbsp;&nbsp; Fc = 1, A = error code.
&nbsp;&nbsp;&nbsp;&nbsp; Fc = 0, reason code action successfully ended.
</pre>

</body>
</html>
