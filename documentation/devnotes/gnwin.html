<!DOCTYPE html PUBLIC "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="GENERATOR" content="Mozilla/4.6 [en] (Win98; I) [Netscape]">
  <title>System Calls Reference</title>
</head>


<body>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
  <tbody>
 <tr>
   <th colspan="3" align="center">Z88 Developers' Notes</th>
 </tr>
 <tr>
   <td align="left" valign="bottom" width="10%"><a href="index.html">Contents</a></td>
   <td align="center" valign="bottom" width="80%">&nbsp;</td>
   <td align="right" valign="bottom" width="10%"><a href="sysref.html">Contents&nbsp;of&nbsp;System&nbsp;Calls</a></td>
 </tr>
  </tbody>
</table>


<hr width="100%">
<p>
<b><font size="+1">GN_Win, Standard window create with banner and bottom line (OZ 4.2 and newer)</font></b>
</p>
<p><tt>RST 20H, DEFW $7A09</tt>
</p>
<p>IN:
</p>
<pre>    DE = (optional) "dynamic" pointer to banner (if banner pointer in definition block is 0)<br>   BHL = pointer to 7 byte window definition block (if B=0, then local pointer)<br><br>         Window Defintion Block offsets:<br>           0:  A = window id. The ID is in range 1-6 (7 is used by OZ).<br>               bit 7=1, 6=1, 5=1: Extended window: left &amp; right shelf brackets, left &amp; right bars, 8 pixel inverted top banner and bottom line<br>               bit 7=1, 6=1, 5=0: Extended window: left &amp; right shelf brackets, left &amp; right bars, 7 pixel inverted top banner and bottom line<br>               bit 7=1, 6=0, 5=1: Standard window: left &amp; right shelf brackets, left &amp; right bars and 8 pixel inverted banner<br>               bit 7=1, 6=0, 5=0: Standard window: left &amp; right shelf brackets, left &amp; right bars and 7 pixel inverted banner<br>               bit 7=0, 6=1: Standard window: left &amp; right bars, no shelf brackets, no banner, no bottom line.<br>               bit 7=0, 6=0: Standard window: no bars, no shelf brackets, no banners.<br>           1:  X coordinate (upper left corner) of Window<br>           2:  Y coordinate (upper left corner) of Window<br>           3:  WIDTH of Window (inclusive banner &amp; bottom line)<br>           4:  HEIGHT of Window (inclusive banner &amp; bottom line)<br>           5:  low byte, high byte address of window banner text<br>               Only specified if bit 7 of window ID is enabled.<br>               Set pointer to 0, if using a dynamic banner (to create the window with different banner each time)<br></pre>

OUT, if call successful: (always)
<pre>&nbsp;&nbsp;&nbsp;&nbsp; Fc = 0</pre>
Registers changed after return:
<pre>&nbsp;&nbsp;&nbsp;&nbsp; A.BCDEHL/IXIY same<br>&nbsp;&nbsp;&nbsp;&nbsp; .F....../.... different</pre>

Notes:
<blockquote>Example of window definition block with extended window "2" having 8 pixel banner and bottom line:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DEFB @11100000 | 2<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DEFW $0000<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DEFW $0811<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DEFW bannerptr ; this points to a banner text.</blockquote>

Bugs:
<p>Related calls:
</p>

<blockquote>
  <blockquote>
    <blockquote><a href="file:///H:/SVN/documentation/devnotes/gnnln.html"></a><a href="gnsoe.html">GN_Soe</a>, write string at extended address to standard output
  <br>
  <a href="gnsop.html">GN_Sop</a>, write string to standard output, local memory<br>
  <a href="osbout.html">OS_Bout</a>, <small><font size="+1"><small>write null-terminated string block at (B)HL to standard output<br>
   </small></font></small><a href="osout.html">OS_Out</a>, <small>&nbsp;<font size="+1"><small>write character to standard
output</small></font></small><br>
  <a href="ospout.html">OS_Pout</a>,&nbsp;<small><font size="+1"><small>write embedded null-terminated string at caller (PC) to standard output</small></font></small></blockquote>
 <small><font size="+1"><small></small></font></small></blockquote>
</blockquote>
</body>
</html>
