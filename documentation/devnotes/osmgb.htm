<!DOCTYPE html PUBLIC "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>


   
  
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">


   
  
  <meta name="GENERATOR" content="Mozilla/4.6 [en] (Win98; I) [Netscape]">


   
  
  <title>System Calls Reference</title>
</head>


<body>


<table border="0" cellpadding="0" cellspacing="0" width="100%">


  <tbody>

    <tr>


      <th colspan="3" align="center">Z88 Developers' Notes</th>


    </tr>


    <tr>


      <td align="left" valign="bottom" width="10%"><a href="index.htm">Contents</a></td>


      <td align="center" valign="bottom" width="80%">&nbsp;</td>


      <td align="right" valign="bottom" width="10%"><a href="sysref.htm">Contents&nbsp;of&nbsp;System&nbsp;Calls</a></td>


    </tr>


  
  </tbody>
</table>



<hr width="100%">
<p>

<b><font size="+1">OS_Mgb, get current bank binding
in segment</font></b>
</p>

<p><tt>RST 20H, DEFB $5A</tt>
</p>

<p>IN:
</p>

<pre>&nbsp;&nbsp;&nbsp;&nbsp; C = memory segment specifier (MS_S0, MS_S1, MS_S2 &amp; MS_S3)</pre>


OUT, if call successful:
<pre>&nbsp;&nbsp;&nbsp;&nbsp; Fc = 0<br>&nbsp;&nbsp;&nbsp;&nbsp; B = bank number currently bound to that segment<br>&nbsp;&nbsp;&nbsp;&nbsp; C = C(in)</pre>


OUT, if call failed:
<pre>&nbsp;&nbsp;&nbsp;&nbsp; Fc = 1<br>&nbsp;&nbsp;&nbsp;&nbsp; A = error code:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RC_ERR ($0F), C was not valid</pre>


Registers changed after return:
<pre>&nbsp;&nbsp;&nbsp;&nbsp; ...CDEHL/IXIY same<br>&nbsp;&nbsp;&nbsp;&nbsp; AFB...../.... different<br></pre>


Notes:
<p>Bugs:
<br>

&nbsp;
</p>

<p>Related calls:
</p>

<blockquote><a href="osbix.htm">OS_Bix</a>, Bind in extended address
  <br>

  <a href="osbox.htm">OS_Box</a>, restore bindings after <a href="osbix.htm">OS_Bix</a>
  <br>

  <a href="osfc.htm">OS_Fc</a>, select fast code (fast bank switching)
  <br>

  <a href="osmal.htm">OS_Mal</a>, allocate memory
  <br>

  <a href="osmcl.htm">OS_Mcl</a>, close memory (free memory pool)
  <br>

  <a href="osmfr.htm">OS_Mfr</a>, free (previously allocated block) memory
  <br>

  <a href="file:///H:/SVN/documentation/devnotes/osmgb.htm"></a><a href="osmop.htm">OS_Mop</a>, open memory (allocate memory pool)
  <br>

  <a href="osmpb.htm">OS_Mpb</a>, set new bank binding in segment<br>

  <a href="ozmgb.htm">OZ_Mgb</a>, get current bank binding in segment<br>

  <a href="ozmpb.htm">OZ_Mpb</a>, set new bank binding in segment<a href="osbix.htm"></a><br>

  <a href="osbix.htm"></a></blockquote>



</body>
</html>
