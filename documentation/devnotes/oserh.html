<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <title>System Calls Reference</title>
<link href="stylesheet.css" type="text/css" rel="stylesheet" />

</head>
<body>
<table style="font-size: 12px" border=0 CELLSPACING=0 CELLPADDING=0 WIDTH="100%" >
<tr>
<th ALIGN=CENTER COLSPAN="3">Z88 Developers' Notes</th>
</tr>
<tr>
<td ALIGN=LEFT VALIGN=BOTTOM WIDTH="10%"><a href="index.html">Contents</a></td>
<td ALIGN=CENTER VALIGN=BOTTOM WIDTH="80%">&nbsp;</td>
<td ALIGN=RIGHT VALIGN=BOTTOM WIDTH="10%"><a href="sysref.html">Contents&nbsp;of&nbsp;System&nbsp;Calls</a></td>
</tr>
</table>

<hr WIDTH="100%">
<p>

<b><font size=+1>OS_Erh, set error handler</font></b>
<p><tt>RST 20H, DEFB $75</tt>
<p>IN:
<pre>&nbsp;&nbsp;&nbsp;&nbsp; A = 0, other values reserved for system use
&nbsp;&nbsp;&nbsp;&nbsp; B = 0
&nbsp;&nbsp;&nbsp;&nbsp; HL = address of new error handler
&nbsp;&nbsp;&nbsp;&nbsp; HL = 0, use default system error handler (in lower 8K of segment 0)</pre>
OUT:
<pre>&nbsp;&nbsp;&nbsp;&nbsp; Fc = 0
&nbsp;&nbsp;&nbsp;&nbsp; A = old call level
&nbsp;&nbsp;&nbsp;&nbsp; HL = address of old error handler</pre>
Registers changed after return:
<pre>&nbsp;&nbsp;&nbsp;&nbsp; ...CDE../IXIY same
&nbsp;&nbsp;&nbsp;&nbsp; AFB...HL/.... different
</pre>
Notes:
<blockquote>Make sure that the error handler is not paged out of the corresponding
segment, when calling OZ. If an error occurs random information will be
executed, since the original code of the particular bank has been paged
out.</blockquote>
Bugs:
<br>&nbsp;
<p>Related calls:
<blockquote><a href='gnerr.html'>GN_Err</a>, display an interactive error box
<br><a href='gnesp.html'>GN_Esp</a>, return an extended pointer to a system error message
<br><a href='oserc.html'>OS_Erc</a>, get error context
<br><a href='osesc.html'>OS_Esc</a>, examine special condition</blockquote>

</body>
</html>
