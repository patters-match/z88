INTRODUCTION

RomUpdate is a utility to update or add a Z88 application on a Rakewell 1Mb Flash Card.
RomUpdate is a BBC BASIC program (with some embedded machine code magic) that can be executed
on an expanded Z88 with at least 64K free RAM space to work.


Four files are required to run this program

romupdate.bas   - available here
romupdate.crc   - the crc of the romupdate.bas program (auto-generated with makebas.bat)
new_program.epr - This is the image of the file you wish to update
romupdate.cfg   - This file tells RomUpdate what to do.

ROMUPDATE.CFG

A configation file needs to be created to tell romupdate the name of the image it is
to replace together with its checksum. Comments can be entered by using the semicolon (;)
at the beginning of the line. Do not add any blank lines in this file.

The checksum can be obtained by adding the updated file to a zip file generator (like WinZip).
If you open the zipped file, next to the filename the CRC is displayed and then can be obtained.

In the example below the filename is written within the inverted commas
("new_program.epr"), followed by the CRC32 checksum ($d3007c81), finally the pointer to
application DOR which is $0000 (start of binary):

---------------------------------------------------------------------------------------
CFG.V1
; filename of 16K bank image, CRC (32bit), pointer to application DOR in 16K file image
"new_program.epr",$d3007c81,$0000
---------------------------------------------------------------------------------------

All four files (including the application binary) must be transferred to the Z88 and
stored in the same directory. Start a BBC BASIC application and RUN"romupdate.bas".


The "romupdate.cfg" is automatically generated for FlashStore, EazyLink and ZetriZ
(projects located in /z88apps).

Important:
Currently, RomUpdate (V0.6.8) only supports Add/Update of a *single* application/popdown
stored inside the single 16K bank binary file.


ROMUPDATE.CRC

This file is auto-generated by the "makebas.bat" (or "makebas.sh) compile scripts, but you
need Mpm V1.2 build 6 or later (which supports CRC32) to make this happen. However, you
can get the CRC32 by simply ZIP'ing "romupdate.bas" and copying the CRC32 value into your
own "romupdate.crc" file. Remember to add a CRLF after the CRC32 hexadecimal value.
